/*!
 * name: next-canvas-multiline-text
 * url: https://github.com/afeiship/next-canvas-multiline-text
 * version: 1.0.0
 * date: 2019-09-10T08:59:14.862Z
 * license: MIT
 */
!function(){var t=t||this||window||Function("return this")(),e=t.nx||require("next-js-core2"),i={lineClamp:100,limitWidth:500,lineHeight:20,canvas:null,callback:e.noop,text:"",tail:"..."},n=function(t){return t?t.replace(/[\r\n]/g,""):t};e.canvasMultilineText=function(t){var l=e.mix(null,i,t),a=l.ctx,r=n(l.text).split(""),u="",s=1,o=[],c=null,m=r.length,p=m-1,h=0;if(!l.text||!l.text.trim())return{line:0,items:o};for(l.callback(a);h<m;h++){if(u+=r[h],c=a.measureText(u),c.width>=l.limitWidth&&(o.push(u),s++,u=""),s-1===l.lineClamp)break}if(h<p){var x=o[o.length-1].split("");x.splice(-2,2),x.push(l.tail),o[o.length-1]=x.join("")}return u&&o.push(u),{line:Math.min(s,l.lineClamp),items:o}},"undefined"!=typeof module&&module.exports&&(module.exports=e.canvasMultilineText)}();