/*!
 * name: next-canvas-multiline-text
 * url: https://github.com/afeiship/next-canvas-multiline-text
 * version: 1.0.0
 * date: 2019-09-06T10:34:46.237Z
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),t=e.nx||require("next-js-core2"),n={lineClamp:100,limitWidth:500,lineHeight:20,canvas:null,callback:t.noop,text:"",tail:"..."},i=function(e){return e?e.replace(/[\r\n]/g,""):e};t.canvasMultilineText=function(e){var l=t.mix(null,n,e),a=l.canvas.getContext("2d"),u=i(l.text).split(""),r="",o=1,s=[],c=null,p=u.length,h=p-1,m=0;for(l.callback(a);m<p;m++){if(r+=u[m],c=a.measureText(r),c.width>=l.limitWidth&&(s.push(r),o++,r=""),o-1===l.lineClamp)break}if(m<h){var x=s[s.length-1].split("");x.splice(-2,2),x.push(l.tail),s[s.length-1]=x.join("")}return r&&s.push(r),{line:Math.min(o,l.lineClamp),items:s}},"undefined"!=typeof module&&module.exports&&(module.exports=t.canvasMultilineText)}();